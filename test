pipeline{
    agent any
    stages{
        stage("Build"){
            steps{
                echo "Build the code using a build automation tool to compile and package the code"
                echo "A tool which can be used here is Maven"
            }
            post{
                always{
                    echo "========always========"
                }
            }
        }
        stage("Unit and Integration tests"){
            steps{
                echo "Run unit and integration tests"
                echo "Test automation tools could include Ansible"
            }
            post{
                success{
                    echo "========send success email========"
                    mail to: "michelle.halls@gmail.com",
                    subject: "Unit and integration tests successful",
                    body: "need to send the logs as attachment"
                }
                failure{
                    echo "========send fail email========"
                    mail to: "michelle.halls@gmail.com",
                    subject: "Unit and integration tests failed",
                    body: "need to send the logs as attachment"
                }
            }
        }
        stage("Code Analysis"){
            steps{
                echo "Integrate a code analysis tool"
                echo "SonarQube is an example of a tool which can be used on Jenkins"
            }
        }
        stage("Security Scan"){
            steps{
                echo "Perform a security scan of the code"
                echo "A tool which can perform security scans is OWASP Dependency-Check"
            }
            post{
                success{
                    echo "========mail for successful scan========"
                }
                failure{
                    echo "========mail for unsuccessful scan======="
                }
            }
        }
        stage("E"){
            steps{
                echo "========executing DE========"
            }
            post{
                always{
                    echo "========DEalways========"
                }
                success{
                    echo "========E executed successfully========"
                }
                failure{
                    echo "========E execution failed========"
                }
            }
        }
        stage("F"){
            steps{
                echo "========executing F========"
            }
            post{
                always{
                    echo "========Falways========"
                }
                success{
                    echo "========F executed successfully========"
                }
                failure{
                    echo "========F execution failed========"
                }
            }
        }
    }
}
